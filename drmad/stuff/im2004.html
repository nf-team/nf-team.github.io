<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<TITLE>Климентьев К. Имитационное моделирование метрологических аспектов измерительных систем</TITLE>
<style type="text/css">
   BODY {font-family:Arial; font-size:10pt; margin-left:10;margin-right:10} 
   TD {font-family:Arial; font-size:10pt}
   P {font-family:Arial; font-size:10pt; text-align:justify}
   LI {font-family:Arial; font-size:10pt}
   UL {font-family:Arial; font-size:10pt}   
   PRE {font-family:Tahoma; font-size:10pt}
   STRONG  {font-family:Arial; font-size:10pt}
   CENTER {font-family:Arial; font-size:10pt}
</style>    
</head>

<body>
<table align="center" width="100%" cellspacing="0" cellpadding="0" border="0">
<tr>
    <td width="15%" height="25" bgcolor="teal"></td>
    <td width="70%" height="25" bgcolor="teal"></td>
    <td width="15%" height="25" bgcolor="teal"></td>
</tr>
<tr>
    <td width="15%" height="50"></td>
    <td width="70%" height="50" align="center"><b><font face="arial black" size="+4" color="Teal">DRMADСКОЕ БАРАХЛО</font></b></td>
    <td width="15%" height="50"></td>
</tr>
<tr>
    <td width="15%" height="25" bgcolor="teal"></td>
    <td width="70%" height="25" bgcolor="teal"></td>
    <td width="15%" height="25" bgcolor="teal"></td>
</tr>
<tr>
    <td width="15%" height="25" bgcolor="#60C0C0"></td>
    <td width="70%" height="25" bgcolor="#60C0C0"></td>
    <td width="15%" height="25" bgcolor="#60C0C0"></td>
</tr>
<tr>
    <td width="15%" height="100%" bgcolor="#60C0C0"></td>
    <td width="70%" height="100%">
    
    <table border="0" bordercolor="teal" width="100%" height="100%" cellpadding="10">
    <tr>
    <td>
    
    <!--->  

<TABLE ALIGN=CENTER CELLPADDING=0 BGCOLOR="Teal" WIDTH="100%">
<TR>
<TH>
<div align="center">
<FONT COLOR="White" SIZE="-1">
Климентьев К.Е.<br>
ИМИТАЦИОННОЕ МОДЕЛИРОВАНИЕ<br>
МЕТРОЛОГИЧЕСКИХ АСПЕКТОВ ИЗМЕРИТЕЛЬНЫХ СИСТЕМ</FONT>
<FONT COLOR="White" SIZE="-3"><br><br>
В сборнике "ИТМО-17: Информационные технологии в моделировании и управлении". <br>
Воронеж, изд-во "Научная книга", 2004 - С. 132-137.
</FONT>
</div>
</TH>
</TR>
</TABLE>  

<p><i><font size="-3">Эта статья специально написана не только для опубликования в печатном сборнике, но и для выкладывания в Интернет. Она
отражает суть моей дисертации гораздо более просто, коротко и понятно для неспециалиста, чем, например, автореферат.</font></i></p>

<p><center>* * *</center></p>

<P><font face="" size="+2" color="Teal"><b>П</b></font>ри создании измерительных систем одной из актуальных проблем является оценивание их метрологических характеристик на этапе проектирования, особенно в ситуации, когда нарушаются требования документа /1/, а именно:</P>

<UL>
<LI>моделями погрешностей компонентов измерительных каналов являются случайные величины с неравномерными и негауссовскими законами распределения;</LI>
<LI>функции преобразования (градуировочные характеристики) компонентов измерительных каналов нелинейны;</LI>
<LI>полная погрешность измерительного канала есть результат одновременного взаимодействия составляющих различной физической природы, среди которых - основные и дополнительные  составляющие инструментальной погрешности компонентов в статическом режиме, динамические погрешности компонентов, апертурные погрешности, погрешности, возникшие в результате взаимного влияния измерительных каналов и т.п.</LI>
</UL>

<P>Аналитическое оценивание метрологических характеристик в этом случае существенно затруднено и нередко приводит к неадекватным результатам. Использование же натурных экспериментов, как правило, экономически невыгодно, а на этапе проектирования просто невозможно. Для решения подобных проблем документом /1/ допускается использование методов имитационного моделирования в форме статистического эксперимента. </P>
<P>Итак, предположим, что на временном интервале <font face="Times New Roman">[0,T]</font> выполняются измерения <I><font face="Times New Roman">К</font></I> динамически изменяющихся физических величин <font face="Times New Roman"><I>X<SUB>k</I></SUB>(<I>t</I>), <I>k</I>=1..<I>K</I>, <I>t<FONT FACE="Symbol">&#206;</FONT>
</I>[0,T]</font> в номинальные  моменты времени <font face="Times New Roman"><I>t<SUB>kmн</I></SUB>, <I>m</I>=1..<I>M</I></font>. Результатом измерения являются множества {<IMG SRC="im26.gif" WIDTH=101 HEIGHT=38 align="middle">, <font face="Times New Roman"><I>m</I>=1..<I>M</I>}</font> выборочных значений приближенных числовых оценок, полученных в реальные моменты <font face="Times New Roman"><I>t<SUB>kmр</I></SUB></font> завершения измерений в <I>k</I>-ом измерительном канале, причем в общем случае <font face="Times New Roman"><I>t<SUB>kmн</I></SUB> <FONT FACE="Symbol">&#185;</FONT></font>
<I>t<SUB>kmр</I></SUB>.</P>
<P>Удобный для представления подобных систем вид метрологической модели измерительного канала предложен в работах Э. И. Цветкова, например, в /3/:</P>

<P><CENTER><IMG SRC="im27.gif" WIDTH=30 HEIGHT=28>= <font face="Times New Roman" size="+0"><I>R</I><SUB>ц</SUB><I>R</I><SUB>ацп</SUB><I>R</I><SUB>а</SUB><I>X,</font></CENTER></P>

</I><P>где  <font face="Times New Roman"><I>X</I></font> - измеряемая величина;<IMG SRC="im27.gif" WIDTH=30 HEIGHT=28>- оценка измеряемой величины; <font face="Times New Roman"><I>R</I><SUB>a</SUB></font> - обобщенный оператор аналогового преобразования измерительного канала; <font face="Times New Roman"><I>R</I><SUB>ацп</SUB></font> - оператор аналогово-цифрового преобразования; <font face="Times New Roman"><I>R</I><SUB>ц</SUB></font> - обобщенный оператор цифрового преобразования измерительного канала. Эта модель может быть конкретизирована с учетом типовых метрологических моделей компонентов и временных аспектов и записана (в функциональной форме) как </P>

<table width="100%">
<tr>
<td align="center" width="90%">
<font face="Times New Roman" size="+0"><IMG SRC="im27.gif" WIDTH=26 HEIGHT=28>(t<SUB>н</SUB>) = 
<I>f<SUB>N</I></SUB>(<I>f<SUB>N</I>-1</SUB>(...(<I>f</I><SUB>1</SUB>(<I>X</I>(t<SUB>1<I>р</I></SUB>)+
<font face="Symbol">D</font><SUB>1</SUB>(<I>X</I>(t<SUB>1<I>р</I></SUB>),<I> Z</I><SUB>1</SUB>(<I>t</I><SUB>1<I>р</I></SUB>)))<FONT FACE="Symbol">&#215;</FONT>
A<SUB>1</SUB>(<I>X</I>(t<SUB>1<I>р</I></SUB>))+...</P>
...+ 
<font face="Symbol">D</font><I><SUB>N</I>-1</SUB>(<I>X</I>(t<SUB>N-1<I>р</I></SUB>),<I> Z</I><SUB>1</SUB>(<I>t</I><SUB>N-1<I>р</I></SUB>))) <FONT FACE="Symbol">&#215;</FONT>
A(<I>X</I>(t<SUB>N-1<I>р</I></SUB>))+ …</P>
… + 
<font face="Symbol">D</font><I><SUB>N</I></SUB>(<I>X</I>(t<SUB>N<I>р</I></SUB>),<I> Z</I><SUB>1</SUB>(<I>t</I><SUB>N<I>р</I></SUB>))) <FONT FACE="Symbol">&#215;</FONT>
A<SUB>N</SUB>(<I>X</I>(t<SUB>N<I>р</I></SUB>)) + 
<font face="Symbol">D</font><I><SUB>в</I></SUB>(<I>X</I>(t<I><SUB>Nр</I></SUB>));</font>
</td>
<td align="right" width="10%">
(1)
</td>
</tr>
</table>
</P>

<P>где <font face="Times New Roman"><I>i</I>=1..<I>N</I></font> - номер компонента в измерительной цепи; 
<font face="Times New Roman"><I>X</I>(.)</font> - измеряемая физическая величина (ее истинное значение), рассматриваемая как функция времени;
<IMG SRC="im27.gif" WIDTH=30 HEIGHT=28>(.) - оценка измеряемой величины; 
<font face="Times New Roman">Z<I><SUB>i</I></SUB></font>(.) - влияющие на метрологические характеристики компонента внешние физические величины как функции времени; 
<font face="Times New Roman"><I>f<SUB>i</I></SUB>(.)</font> - номинальные статические функции преобразования (градуировочные характеристики) отдельных компонентов измерительного канала (датчиков, усилителей, АЦП и т.п.); 
<font face="Times New Roman"><I><font face="Symbol">D</font><SUB>i</I></SUB>(.)</font> - погрешности (по выходу) компонентов измерительного канала как функции измеряемых и влияющих физических величин; <font face="Times New Roman"><I>A<SUB>i</I></SUB>(.)</font> - числовое значение коэффициента ослабления сигнала, зависящее от мгновенной частоты сигнала и непосредственно оцениваемое по АЧХ <font face="Times New Roman"><I>i</I></font>-го компонента (для цифровых компонентов этот коэффициент считается тождественно равным 1); <font face="Times New Roman">t<I><SUB>н</I></SUB></font> - номинальный момент выполнения измерений; <font face="Times New Roman">t<I><SUB>iр</I></SUB></font> - реальный момент выполнения измерений <font face="Times New Roman"><I>i</I></font>-ым компонентом; 
<I><font face="Symbol">D</font><SUB>в</I></SUB>(.) - составляющая полной погрешности, причиной которой служит взаимное влияние измеряемых каналов, которая условно считается приведенной к моменту завершения измерений. Погрешности отдельных компонентов в модели (1) сами суть комбинации различных составляющих:</P>

<P>
<table width="100%"><tr><td align="center" width="90%"><IMG SRC="im31.gif" WIDTH=385 HEIGHT=38>,</td><td align="right" width="10%">(2)</td></tr></table>
</P>

<P>где 
<I><font face="Symbol">D</font><SUB>io</I></SUB>(.) - основная составляющая инструментальной погрешности <I>i</I>-го компонента измерительного канала; 
<I><font face="Symbol">D</font><SUB>iд</I></SUB>(.) - дополнительная составляющая инструментальной погрешности компонента измерительного канала; остальные обозначения аналогичны принятым в (1). Наконец, полная погрешность результата прямых измерений в измерительном канале есть</P>

<P><table width="100%"><tr><td align="center" width="90%"><IMG SRC="im32.gif" WIDTH=191 HEIGHT=31>,</td><td align="right" width="10%">(3)</td></tr></table></P>

<P>а полная погрешность результата косвенных измерений, выполняемых по результатам прямых измерений в группе измерительных каналов -</P>

<P><table width="100%"><tr><td align="center" width="90%"><IMG SRC="im33.gif" WIDTH=243 HEIGHT=40>,</td><td align="right" width="10%">(4)</td></tr></table></P>

<P>где g(.) - некоторая зависимость между результатами прямых измерений и значением измеряемой величины; <IMG SRC="im34.gif" WIDTH=53 HEIGHT=33 align="middle">и <IMG SRC="im35.gif" WIDTH=53 HEIGHT=38 align="middle">- вектора истинных значений физических величин и результатов их прямых измерений.</P>
<P>Использование метрологической модели, заданной соотношениями (1), (2), (3) и (4), в составе системы имитационного моделирования, целесообразно производить с учетом следующих принципов.</P>
<OL>
<LI>Измерительный канал описывается в виде измерительно-вычислительной цепи, т.е. в виде совокупности аппаратных и программных компонентов, последовательно передающих друг другу преобразуемый сигнал измерительной информации.</LI>
<LI>Моделью, описывающей топологию передачи преобразуемого сигнала измерительной информации в многоканальной системе, является лес корневых деревьев (см. рис. 1).</LI>
<LI>Моделью, описывающей топологию передачи управляющих воздействий между компонентами и отражающей дискретно-событийное представление функционирования измерительной системы, является ориентированный циклический граф вида “гамильтонов контур” (см. Рис. 2), дуги которого маркированы значениями длительностей временных интервалов.</LI>

<P><CENTER><IMG SRC="im36.gif" WIDTH=624 HEIGHT=197></CENTER></P>

<LI> Моделями измеряемой и влияющей физических величин являются случайные функции времени (а также детерминированные функции, как частный случай).
<LI> Моделью, описывающей последовательность значений реальных моментов измерений, является случайный поток событий.
<LI> Моделью основной составляющей инструментальной погрешности аппаратных компонентов является случайная функция измеряемой величины (а также случайная величина, как частный случай).
<LI> Моделью дополнительной составляющей инструментальной погрешности аппаратных компонентов является случайная функция влияющей физической величины (а также детерминированная функция и случайная величина, как частные случаи).
<LI> Моделью номинальной статической функции преобразования (градуировочной характеристики) компонента является функция входного аргумента.
<LI> Моделью динамической характеристики преобразования (АЧХ) аналогового компонента является функция частоты изменения входного аргумента.
<LI> Моделью отклонения динамической характеристики преобразования аналогового компонента от ее номинального значения является случайная величина.
<LI> Моделью  погрешности взаимопроникновения измерительных каналов является случайная величина.
</OL>

<P>Пункты 4-11 соответствуют требованиям /2/, что позволяет использовать в качестве параметров конкретной имитационной модели метрологические характеристики компонентов, почерпнутые непосредственно из их сопроводительной документации.</P>
<P>Часть приведенных выше принципов была использована при разработке и реализации объектно-ориентированной системы ООС ПСИ, представлявшей собой своего рода программный “конструктор” и позволявшей генерировать из типовых “деталей” имитационные модели многоканальных подсистем измерений и исследовать в ходе статистического эксперимента их метрологические характеристики /4,5/. ООС ПСИ характеризовалась следующими особенностями /4/: 1) была реализована в виде комплекса программ операционной системы Ms-Dos; 2) обеспечивала моделирование узкого класса подсистем измерений с типовыми структурами измерительных каналов; 3) требовала предварительного описания топологии моделируемой системы и перечня оцениваемых характеристик в текстовом виде средствами специализированного дескриптивного языка ЯОЗИ. Практическое применение ООС ПСИ в реальных задачах проектирования  подсистем измерений АСУ ТП Жигулевской ГЭС подтвердило адекватность получаемых при помощи ООС ПСИ результатов и целесообразность ее использования /5/. В настоящий момент в лаборатории АСНИ Самарского государственного аэрокосмического университета разрабатывается система имитационного моделирования БВП ПСИ, реализующая полный набор принципов 1-11.</P>

<P><CENTER><IMG SRC="im37.gif" WIDTH=613 HEIGHT=449></CENTER></P>


<P>БВП ПСИ представляет собой библиотеку виртуальных приборов LabVIEW /6/ и систему правил построения из них имитационных моделей измерительных систем. В составе библиотеки:

<UL>
<LI>генераторы случайных процессов и случайных величин с разными законами распределения;</LI>
<LI>виртуальные приборы, реализующие разнообразные функциональные зависимости; </LI>
<LI>виртуальные приборы, моделирующие работу различных аппаратных компонентов (датчиков - см. рис. 3, усилителей, АЦП, мультиплексоров и т.п.) и программных компонентов (процедур тарировки, сжатия и восстановления данных и т.п.) измерительных каналов;</LI>
<LI>виртуальный прибор, реализующий случайный поток событий в модельном времени и управляющий ходом имитационного эксперимента;</LI>
<LI>виртуальные приборы, осуществляющие сбор данных о протекании имитационного эксперимента;</LI>
<LI>виртуальные приборы, позволяющие оценивать по данным, полученным в ходе имитационного эксперимента, необходимые метрологические характеристики.</LI></UL>

<P>Методика применения систем типа ООС ПСИ или БВП ПСИ для оценивания метрологических характеристик измерительных систем заключается в следующем.</P>
<OL>

<LI>Производится построение концептуальной модели системы, включающей: </LI></OL>

<UL>
<LI>перечень программных и аппаратных  компонентов;</LI>
<LI>метрологические характеристики аппаратных компонентов (берутся из сопроводительной документации или оцениваются экспериментально);</LI>
<LI>времена выполнения программных компонентов и временные задержки, характеризующих работу аппаратных компонентов (берутся из сопроводительной документации или оцениваются экспериментально);</LI>
<LI>описание графа передачи информации между компонентами;</LI>
<LI>описание алгоритмов управления процессом сбора и обработки измерительной информации в виде графа передачи управления;</LI>
<LI>априорную информацию об измеряемых величинах, внешних условиях работы системы и т.п.</LI></UL>

<OL START=2>

<LI>Концептуальная модель описывается встроенными средствами моделирующей среды (для БВП ПСИ моделирующей средой является LabVIEW, а в качестве этих средств описания используется язык графического программирования G).</LI>
<LI>Выполняется необходимое количество прогонов статистического эксперимента.</LI>
<LI>По полученным в результате экспериментов данным производится оценивание необходимых метрологических характеристик.</LI></OL>

<P>Этапы 2-4 выполняются средствами БВП ПСИ в автоматизированном режиме. На последнем этапе также возможно использование внешних по отношению к моделирующей системе программных средств, таких как MS Excel, MathCad, StaDia и т.п. </P>
<P>Типовыми задачами, возникающими на этапе проектирования измерительных систем, которые целесообразно решать при помощи средств имитационного моделирования типа ООС ПСИ или БВП ПСИ, являются:</P>

<UL>
<LI>оценивание числовых и качественных характеристик полной погрешности результата измерений в измерительных каналах;</LI>
<LI>исследование влияния различных компонентов и групп компонентов измерительных каналов на полную погрешность результата измерений;</LI>
<LI>исследование влияния алгоритмов работы моделируемой системы (например, порядка опроса измерительных каналов) на полную погрешность результата измерений;</LI>
<LI>исследование влияния алгоритмов работы моделируемой системы на вид и характеристики выходного потока измерительной информации (т.е. класс задач, рассматриваемых, например, в  /7/);  </LI>
<LI>выбор оптимальной структуры измерительной системы и ее фрагментов по критериям точности, быстродействия и пр. </LI></UL>

<P></P>
<P>Литература</P>


<P>
1. МИ 222-80. Методика расчета метрологических характеристик измерительных каналов измерительных систем по метрологическим характеристикам компонентов. - М.: Госстандарт, 1980. - 38 с.<br>
2. ГОСТ 8.009-84. Нормируемые метрологические характеристики средств измерений. - М.: Изд-во стандартов, 1985. - 38 с.<br>
3. Цветков Э.И. Процессорные измерительные средства. - Л.: Энергоатомиздат, 1989. - 221 с.<br>
4. Объектно-ориентированные средства для исследования подсистем измерения АСНИ / Орищенко В.И., Прудников И.В., Пшеничников В.В. - Самара: САИ, 1991. - 91 с.<br>
5. Климентьев К.Е. Автоматизированная система для оценивания точностных  и динамических характеристик программно-управляемых подсистем измерений: Автореф. дисс. канд. техн. наук. - Самара, 2000. - 16 с.<br>
6. Климентьев К.Е. Основы графического программирования в среде LabVIEW / Самара: Изд-во Самар. гос. аэрокосм. ун-та, 2003. - 79 с.<br>
7. Ефимов А.Н., Рубанов В.Г. Оптимизация процессов первичной обработки информации в АСУ. - Киев: Техника,  1976. - 143 с.
</P>

<hr>
<p>
(с) Constantin E. Climentieff aka DrMad *
<a href="mailto:drmad@dr.com"> mailto: drmad@dr.com</a> * 
<a href="http://www.chat.ru/~drmad">http://www.chat.ru/~drmad</a>
</p>

    </td>
    </tr>
    </table>
    </td>

    <td width="15%" height="100%" bgcolor="#60C0C0"></td>
</tr>
</table>

</body>
</html>

