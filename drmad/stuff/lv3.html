<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<title>Основы графического программирования в среде LabVIEW</title>
<style type="text/css">
   BODY {font-family:Arial; font-size:10pt; margin-left:10;margin-right:10} 
   TD {font-family:Arial; font-size:10pt}
   P {font-family:Arial; font-size:10pt; text-align:justify}
   LI {font-family:Arial; font-size:10pt}
   UL {font-family:Arial; font-size:10pt}   
   PRE {font-family:Tahoma; font-size:10pt}
   STRONG  {font-family:Arial; font-size:10pt}
   CENTER {font-family:Arial; font-size:10pt}
</style>	
</head>

<body>
<table align="center" width="100%" cellspacing="0" cellpadding="0" border="0">
<tr>
    <td width="15%" height="25" bgcolor="teal"></td>
    <td width="70%" height="25" bgcolor="teal"></td>
    <td width="15%" height="25" bgcolor="teal"></td>
</tr>
<tr>
    <td width="15%" height="50"></td>
    <td width="70%" height="50" align="center"><b><font face="arial black" size="+4" color="Teal">DRMADСКОЕ БАРАХЛО</font></b></td>
    <td width="15%" height="50"></td>
</tr>
<tr>
    <td width="15%" height="25" bgcolor="teal"></td>
    <td width="70%" height="25" bgcolor="teal"></td>
    <td width="15%" height="25" bgcolor="teal"></td>
</tr>
<tr>
    <td width="15%" height="25" bgcolor="#60C0C0"></td>
    <td width="70%" height="25" bgcolor="#60C0C0"></td>
    <td width="15%" height="25" bgcolor="#60C0C0"></td>
</tr>
<tr>
    <td width="15%" height="100%" bgcolor="#60C0C0"></td>
    <td width="70%" height="100%">
	
    <table border="0" bordercolor="teal" width="100%" height="100%" cellpadding="10">
    <tr>
    <td>
	
    <!---> 	

<TABLE ALIGN=CENTER CELLPADDING=0 BGCOLOR="Teal" WIDTH="100%">
<TR>
<TH>
 <FONT SIZE=+1 COLOR="White">  
Климентьев К.Е. <br>
Основы графического программирования
в среде LabVIEW. Фрагмент 3<br>
</FONT>
</TH>
</TR>
</TABLE>

<br><a href="lv0.html"><img src="back.gif"></a><br>

<H1><a name="m0">2. Основы разработки виртуальных приборов</a></H1>

<p>
В данном разделе на конкретных примерах будут рассмотрены основные понятия и приемы, используемые при разработке собственных ВП средствами LabVIEW for Windows версии 3.x.  Полученные в результате знания и умения практически полностью пригодятся при работе с более старшими версиями системы (на момент написания этих строк фирмой National Instruments разработана уже версия 6.0).
</p>

<p>
Кроме того, для ознакомления с практическими приемами работы в LabVIEW могут быть с успехом использованы демонстрационные версии пакета. Существуют два основных отличия между демонстрационной и полнофункциональной версией:
<ul>
<li>с демонстрационными версиями поставляются "укороченные" версии стандартных библиотек ВП;
<li>демонстрационные версии не позволяют долговременно сохранять результаты работы: все вновь созданные ВП доступны лишь в текущем сеансе работы с LabVIEW, а после выхода из системы они автоматически удаляются.
</ul>
</p>

<H2><a name="m1">2.1.  Пример 1 - разработка модели цифрового термометра</a></H2>

<p>
Предположим, что необходимо измерять температуру среды в экспериментальной камере. Имеется датчик температуры (например, термосопротивление) и устройство аналогово-цифрового преобразования, конвертирующее напряжение на выходных контактах датчика в его числовое значение. Построим модель устройства, воспринимающего и отображающего это значение.
</p>
<p>
Шаг 1. Запустите установленную на Вашем компьютере версию LabVIEW.
</p>
<p><i>
Примечание. В демонстрационном пакете LabVIEW for Windows версий 4.х-6.x, поставляемых на лазерных компакт-дисках, система разработки запускается щелчком по кнопке "Eхplore LabVIEW for your own applications" ("Изучите работу с LabVIEW на примере собственных приложений").
</i></p>
<p>
Шаг 2. Установите курсор примерно в центре лицевой панели (см. рисунок 2.1). Щелкните правой кнопкой мыши и удерживайте ее до тех пор, пока не появится всплывающие меню "Controls" ("Средства управления"). Вызов всплывающего меню правой кнопкой мыши - наиболее предпочтительный метод создания и изменения объектов LabVIEW.
</p>	
 
<p>
<div align="center">
<img src="lv2_1.gif" border=0 alt="">
<br>Рисунок 2.1.  <br>
Вид окон после запуска LabVIEW
</div>
</p>
	  
<p>
<i>
Примечание. В LabVIEW версий 4.х-6.х всплывающее меню содержит не текстовые строки, но пиктограммы со стилизованными изображениями.
</i>
</p>

<p>
<div align="center">
<img src="lv2_2.gif" border=0 alt="">
<br>Рисунок 2.2. <br>  
Выбор объекта "Термометр"
</div>
</p>

<p>
Шаг 3. Продолжайте удерживать правую кнопку мыши, перемещая стрелку курсора на элемент "Numeric" ("Числовые"), а также на ту палитру, которая в результате этого появится (см. рисунок 2.2). Когда курсор мыши проходит через каждую пиктограмму, имя соответствующего элемента появляется в нижней части палитры. Отпустите кнопку мыши, когда стрелка окажется на пиктограмме "Thermometer" ("Термометр").
</p>

<p> 
Шаг 4. Для изменения пределов измерения на шкале "Термометра":
<table>
<tr>
<td width="10%" valign="top" align="left">
<img src="lv_bukv.gif" border=0 alt="">
</td>
<td width="90%">
<ul>
<li>щелчком по пиктограмме инструмента пометки (см. рисунок 2.1) выберите инструмент пометки ("буковку");
<li>дважды щелкнув по нижнему пределу измерений на изображении термометра, переведите  его в режим редактирования;
<li>замените строку "0.00" на "70.0" и нажмите клавишу &lt;Enter&gt; на цифровой клавиатуре.
</ul>
</td>
</tr>
</table>
</p>

<p>	
Таким же образом измените "10.0" на "90.0". LabVIEW автоматически промасштабирует промежуточные значения на шкале, как показано на рисунке 2.3.
</p>

<p>
<div align="center">
<img src="lv2_3.gif" border=0 alt="">
<br>Рисунок 2.3.<br> 
Пример изменения пределов измерений
</div>
</p>
<p>

<p>
<table>
<tr>
<td width="10%" align="left">
<img src="lv_toolz.gif" border=0 alt="">
</td>
<td width="90%" valign="top" align="left">
<i>
Примечание. В LabVIEW версий 4.х-6.х пиктограммы инструментов располагаются не в верхней части окна панели, но в отдельном окне. Если это окно не присутствует на экране, то его можно открыть, выбрав в меню "Windows" ("Окна") пункт "Show Tools palette" ("Показать палитру инструментов").
</i>
</td>
</tr>
</table>
</p>

<p>
<table>
<tr>
<td width="10%" valign="top" align="left">
<img src="lv_dbl.gif" border=0 alt="">
</td>
<td width="90%">
Шаг 5. Выберите пункт "Show Diagram" ("Показать блок-схему") из меню "Windows", и окно блок-схемы станет активным. Оно уже содержит для индикатора температуры терминал в виде двойного оранжевого прямоугольника с буквами "DBL".
</td>
</tr>
</table>
</p>

<p>
Оранжевый цвет зарезервирован для обозначения связей и терминалов, оперирующих с данными вещественного типа. Используются следующие цвета для различных типов данных:
<ul>
<li><font face="" color="Blue">синий</font> - для целого типа;
<li><font face="" color="#FF8000">оранжевый</font> - для вещественного типа;
<li><font face="" color="Green">зеленый</font> - для логического (булевского) типа;
<li><font face="" color="Fuchsia">сиреневый</font> - для строкового типа;
<li><font face="" color="Teal">цвет морской волны</font> - для типа "имя файла";
<li><font face="" color="Gray">темно-серый</font> - для типа "идентификатор открытого файла";
<li><font face="" color="Maroon">коричневый</font> - для комбинированных типов.
</ul>
</p>

<p>
Буквы "DBL" уточняют, что терминал оперирует с вещественными данными двойной точности, с данными типа "double". Также используются следующие аббревиатуры для уточнения числовых типов данных:
<ul>
<li><b>SGL</b> - для вещественных данных одинарной точности;
<li><b>DBL</b> - для вещественных данных двойной точности;
<li><b>EXT</b> - для вещественных данных повышенной точности;
<li><b>I8</b> - для целых восьмибитовых данных со знаком;
<li><b>I16</b> - для целых шестнадцатибитовых данных со знаком;
<li><b>I32</b> - для целых тридцатидвухбитовых данных со знаком; 
<li><b>U8</b> - для целых восьмибитовых данных без знака;
<li><b>U16</b> - для целых шестнадцатибитовых данных без знака;
<li><b>U32</b> - для целых тридцатидвухбитовых данных без знака;
<li><b>GSG</b> - для комплексных данных одинарной точности;
<li><b>GDB</b> - для комплексных данных двойной точности;
<li><b>GXT</b> - для комплексных чисел расширенной точности.
</ul>
</p>

<p> 	
<table>
<tr>
<td width="10%" valign="top" align="left">
<img src="lv_strel.gif" border=0 alt="">
</td>
<td width="90%">
Шаг 6. Для перемещения объекта и изменения его размеров выберите инструмент позиционирования ("стрелочку").
</td>
</tr>
</table></p>
<p>
Щелкните по терминалу объекта "Термометр" левой кнопкой мыши, и он окажется внутри штриховой рамки. Удерживая нажатой левую кнопку мыши, вы можете "перетащить" выделенный таким образом объект в любую точку панели.
</p>
<p><i>
Примечание. Нажав и удерживая нажатой левую кнопку мыши, Вы можете выделить группу рядом расположенных объектов. Кроме того, одновременно нажав и удерживая не только левую кнопку мыши, но и клавишу <Shift>, Вы можете последовательно выделить инструментом позиционирования несколько отдельных объектов.
</i>
</p>

<p>
<table>
<tr>
<td width="10%" valign="top" align="left">
<img src="lv_ugol.gif" border=0 alt="">
</td>
<td width="90%">
Вернитесь на переднюю панель и наведите (не нажимая кнопок мыши) инструмент позиционирования на один из углов изображения "Термометра". Когда угол "раздвоится", Вы можете нажать левую кнопку мыши и, удерживая ее, изменить размеры объекта.
</td>
</tr>
</table>
</p>

<p><i>
Примечание. Изменению размеров поддаются почти все объекты передней панели. На панели блок-схем возможно изменять только размеры рамок управляющих структур и некоторых специфических узлов.
</i></p>
<p>
Нажатием клавиши &lt;Del&gt; можно удалить выделенный объект или группу объектов. Важная особенность: терминалы объектов лицевой панели не могут быть удалены из блок-схемы. Они уничтожаются только вместе с порождающими их объектами лицевой панели.
</p>

<p>
Выделенный объект может быть скопирован в буфер промежуточного хранения и вставлен в любой точке панели (см. соответствующие пункты в меню "Edit"). 
</p>

<p>
Выделенный объект может быть продублирован, если перемещать его инструментом позиционирования, одновременно удерживая нажатой клавишу &lt;Ctrl&gt;.
</p>

<p>
Шаг 7. Снова перейдите на панель блок-схемы, правой кнопкой мыши вызовите палитру, выберите и разместите на панели следующие объекты : 
<ul>
<table>
<tr>
<td width="10%" valign="top" align="left">
<img src="lv_read.gif" border=0 alt="">
</td>
<td width="90%">
<li>из палитры "Tutorial" ("Учебник") пиктограмму объекта "Voltage Read" ("Источник напряжения");
</td>
</tr>
</table>

<p>
<i>
Примечание. В демонстрационной версии LabVIEW этот объект может называться  "Demo Voltage Read" ("Демонстрационный источник напряжения"), а палитра, в которой хранится пиктограмма объекта,  может носить наименование "Getting Started" ("Первые шаги").<br>
</i>
</p>

<table>
<tr>
<td width="10%" valign="top" align="left">
<img src="lv_123.gif" border=0 alt="">
</td>
<td width="90%">
<li>из палитры "Structs & Constants" ("Структуры и константы") объект "Numeric constant" ("Числовая константа");
</td>
</tr>
</table>

<table>
<tr>
<td width="10%" valign="top" align="left">
<img src="lv_mult.gif" border=0 alt="">
</td>
<td width="90%">
<li>из палитры "Arithmetic" ("Арифметика") объект "Multiply" ("Умножение").
</td>
</tr>
</table>

</ul>
</p>

<p>
Выберите инструмент пометки и отредактируйте новые объекты следующим образом:
<ul>
<li>внутрь объекта "Числовая константа" поместите число 100.00;
<li>щелкнув правой кнопкой мыши на терминале "Термометра", вызовите меню свойств объекта, в нем последовательно выберите "Show" ("Показать") и "Label" ("Метка"), и инструментом пометки внесите внутрь поля метки наименование объекта (например, латинскими буквами - "Temperature" или русскими - "Температура").
</ul>
</p>
<p>
Обратите внимание: в левой верхней части окна на панели инструментов имеется кнопка запуска приложения LabVIEW. Она одновременно играет роль индикатора: пока внутри нее изображена разрушенная стрелка (см. рисунок 2.4), приложение LabVIEW не готово к работе.
</p>

<p>
<table>
<tr>
<td width="10%" valign="top" align="left">
<img src="lv_kat.gif" border=0 alt="">
</td>
<td width="90%">
Шаг 8. Выберите инструмент связывания ("катушку"). Переместите "катушку" на объект "Voltage Read". Объект начнет мигать, показывая, что готов к связыванию. Щелкните левой кнопкой мыши и "закрепите" левый конец линии связи.
</td>
</tr>
</table>

</p>	 

<p>
<div align="center">
<img src="lv2_4.gif" border=0 alt="">
<br>Рисунок 2.4. <br>
Отдельные объекты на панели блок-схемы
</div>
</p>
<p>
Перемещайте связь мышью в направлении объекта "Умножение". Вы можете организовывать на создаваемой линии связи изгибы, останавливаясь и щелкая левой кнопкой мыши. Переместите инструмент связывания на левый верхний угол объекта  "Multiply". Это угол начнет мигать, сигнализируя о том, что вы можете завершить соединение. Нажмите левую кнопку мыши для "закрепления" правого конца линии связи.
</p>
<p>
Аналогичным образом соедините объект "Числовая константа" с левым нижним углом объекта "Умножение", а правый угол объекта "Умножение" с терминалом объекта "Температура".
</p>
<p>
Обратите внимание: стрелка на кнопке запуска теперь "исправна" - приложение LabVIEW готово к работе.
</p>

<p>
<table>
<tr>
<td width="10%" valign="top" align="left">
<img src="lv_good.gif" border=0 alt="">
</td>
<td width="90%">
Шаг 9. Переместитесь на лицевую панель и запустите созданное приложение щелчком по кнопке запуска. Объект "Источник напряжения" сгенерирует одно числовое значение напряжения на выходе некоего датчика (например, термосопротивления), которое  будет промасштабировано умножением на 100 и отображено на лицевой панели.
</td>
</tr>
</table>
</p>

<p>
<table>
<tr>
<td width="10%" valign="top" align="left">
<img src="lv_defl.gif" border=0 alt="">
</td>
<td width="90%">
Шаг 10. В правой верхней части лицевой панели располагается квадратное поле, содержащее заготовку пиктограммы создаваемого ВП.
</td>
</tr>
</table>
</p>

<p>
<i>
Примечание. В младших версиях демонстрационного пакета LabVIEW это поле может не содержать никаких изображений.
</i>
</p>
<p>
Переместите на это поле курсор мыши, нажатием правой кнопки вызовите всплывающее меню и выберите пункт "Edit Icon" ("Редактировать пиктограмму"). На экране появится окно графического редактора, содержащее увеличенное изображение пиктограммы.
</p>	 
<p>
<div align="center">
<img src="lv2_5.gif" border=0 alt="">
<br>Рисунок 2.5. <br>
Cвязанные объекты на панели блок-схемы
</div></p>
<p>
Используя средства, примерно аналогичные используемым в редакторе MS Paint (или MS PaintBrush), нарисуйте свой собственный вариант пиктограммы и нажмите кнопку "OK".
</p>
<p>
<div align="center">
<img src="lv2_6.gif" border=0 alt="">
<br>Рисунок 2.6.<br> 
Редактор пиктограмм 
</div>
</p>
<p>
Шаг 11. Построенный нами ВП является моделью цифрового термометра. Другие, более сложные ВП, будут использовать его в качестве своего субВП. По аналогии с процедурами программ, написанных на языках типа Паскаль или Си, необходимо описать входные и выходные параметры построенного субВП.
</p>
<p>
Повторите начальные действия, использованные Вами  на предыдущем шаге, но выберите во всплывающем меню пункт "Show Connector" ("Показать соединитель"). Курсор мыши автоматически переключится в режим инструмента связывания (в режим "катушки"), а поле пиктограммы очистится.
</p>	 

<p>
<div align="center">
<img src="lv2_7.gif" border=0 alt="">
<br>Рисунок 2.7.<br> 
Палитра образцов
</div>
</p>
<p>
Правой кнопкой мыши вызовите в этом поле всплывающее меню и выберите пункт "Patterns" ("Образцы"). На экране появится палитра, содержащая образцы или заготовки для различных вариантов взаимного расположения и для различных количеств входных и выходных параметров субВП (см. рисунок 2.7). При этом каждая прямоугольная секция образца предназначена для ассоциирования  с каким-либо входным или выходным параметром субВП.
</p>
<p>
Выберите образец, соответствующий случаю единственного параметра (он располагается в левом верхнем углу палитры) и щелкните на нем курсором "катушки". Выбранный образец переместится в пустое поле.
</p>

<p><i>
Примечание. В случае единственного параметра трудно заметить различие между абсолютно пустым полем и полем, заполненным соответствующим образцом. В случае двух, трех и большего количества параметров таких трудностей не возникает.
</i></p>
<p>
Поочередно щелкайте  курсором "катушки" по объектам лицевой панели  и по различным секциям образца (в нашем примере следует щелкнуть по объекту "Термометр" и по единственной секции образца). Секции образца, для которых уже установлено соответствие, окрашиваются в серый цвет. 
</p>
<p>
Шаг 12. Сохраните созданный субВП, используя пункт "Save As..." ("Сохранить как...") меню "File" ("Файл"). 
</p>
<p><i>
Примечание. В демонстрационных версиях пакета LabVIEW сохранение созданных пользователем ВП и субВП возможно только внутри библиотеки Mywork.LLB. 
</i></p>

<hr>
(с) Constantin E. Climentieff aka DrMad,
<a href="mailto:drmad@dr.com"> mailto: drmad@dr.com</a> * <a href="http://www.chat.ru/~drmad">http://www.chat.ru/~drmad</a>
<hr>


    </td>
    </tr>
    </table>
    </td>

    <td width="15%" height="100%" bgcolor="#60C0C0"></td>
</tr>
</table>

</body>
</html>

